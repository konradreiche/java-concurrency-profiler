option java_package = "de.fu.profiler";
option java_outer_classname = "AgentMessageProtos";

message AgentMessage {

	required string timestamp = 1;
	required int32 jvm_id = 2;

	message Threads {

		required string lifeCycle = 1;

		message Thread {

			required int32 id = 1;
	   		required string name = 2;
			required int32 priority = 3;
			required string state = 4;
			required bool isContextClassLoaderSet = 5;

			optional bool enteredMonitorWait = 6;
			optional bool leftMonitorWait = 7;
		}

		repeated Thread thread = 2;
	}

	optional Threads threads = 3;
}
